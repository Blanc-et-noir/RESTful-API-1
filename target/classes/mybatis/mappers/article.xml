<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="article">
	<select id="listArticles" parameterType="java.util.HashMap" resultType="java.util.HashMap">
		SELECT article_id "article_id", article_title "article_title", article_content "article_content", DATE_FORMAT(article_date,'%Y-%m-%d %T') "article_date", article_view "article_view", user_id "user_id"
		FROM articles
		WHERE ${search_flag} LIKE CONCAT('%',#{article_search},'%')
		ORDER BY article_date DESC
	</select>
	
	<insert id="addArticle" parameterType="java.util.HashMap">
		INSERT INTO articles(article_id,article_title,article_content,user_id)
		VALUES(NEXTVAL(article_sequence),#{article_title},#{article_content},#{user_id})
	</insert>
</mapper>